# 01. JPA 소개
데이터들이 프로그램이 종료되어도 사라지지 않고 어떤 곳에 저장되는 개념을 영속성(Persistence)이라고 한다.
Java에서는 데이터의 영속성을 위한 JDBC를 지원해주는데, 이는 매핑 작업을 개발자가 일일히 수행해야 하는 번거로움이 있다.

SQL Mapper와 ORM은 JDBC 프로그래밍의 복잡함이나 번거로움 없이 간단한 작업만으로 데이터베이스와 연동되는 시스템을 빠르게 개발할 수 있도록 기능을 제공해주는 Persistence Framework 종류이다.

Java에서 사용하는 대표적인 ORM으로는 JPA(Java Persistent API)와 JPA 표준 명세를 구현한 구현체 Hiberante가 있다.

### 1.1 SQL을 직접 다룰 때 발생하는 문제점

MyBatis과 같은 SQL Mapper 방법을 사용하면 Java 클래스 코드와 직접 작성한 SQL 코드를 Mapping 시켜주어야 했다.
따라서 객체 하나가 변경되면 이에 따라 DTO, DAO, 쿼리문 전체가 수정되어야 한다.

반면 JPA와 같은 ORM 기술은 객체가 DB에 연결되기 때문에, SQL을 직접 작성하지 않고 표준 인터페이스 기반으로 처리한다.
```
jap.persist(member); // 멤버의 정보가 담긴 객체를 적절한 INSERT SQL문을 생성해서 DB에 전달
jap.find(Member.class, memberId) // 객체와 매핑정보를 보고 적절한 SELECT SQL문을 생성하고 반환
```

### 1.2 패러다임의 불일치
- 애플리케이션 : 객체지향 언어
- 데이터 : 관계형 데이터베이스 저장

=> 객체를 파일로 저장했다가 객체로 복구하는 기능을 실현하기 어렵다.

jpa가 이러한 불일치를 해결해주고 정교한 객체 모델링을 유지하도록 도와준다.


### 1.3 JAP란 무엇일까?
자바 진영의 ORM 기술 표준으로 객체와 테이블을 매핑해서 페러다임의 불일치 문제를 개발자 대신 해결해준다.

따라서 모든 CRUD 실행 시, 직접 SQL문을 작성하는 것이 아니라 JPA에 객체를 저장하면 자동으로 SQL이 작동된다.

이때 주로 사용하는 ORM 프레임워크로는 하이버네이트 프레임워크가 가장 많이 사용된다.

JPA 사용 장점

1. 생산성 : 반복적인 쿼리문 작성을 대신 처리해준다.
2. 유지보수 : 엔티티에 필드 하나를 추가했을 때 변경해야하는 코드가 줄어든다.
3. 패러다임의 불일치 문제 해결 : 상속, 연관관계, 객체 그래프 탐색, 비교하기 등의 문제를 해결해준다.
4. 성능 : 애플리케이션과 데이터베이스 사이에서 다양한 성능 최적화 기회를 제공한다.
5. 데이터 접근 추상화와 벤더 독립성 : 데이터베이스를 중간에 바꾸더라도 큰 문제가 되지 않는다. (MySQL -> ORACLE (o))
6. 표준 : 다른 구현 기술로 변경 쉽다.

